<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FastSewa Repair | Expert Home Maintenance</title>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/style.css">

    <style>
        /* --- MERGED CSS VARIABLES & ROOT --- */
        :root {
            --primary: #f59e0b;
            --primary-dark: #ea580c;
            --dark: #1e293b;
            --light: #fef3c7;
            --gray-bg: #f8fafc;
            --white: #ffffff;
            --shadow: 0 10px 30px rgba(234, 88, 12, 0.15);
        }

        /* --- GLOBAL STYLES --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background-color: #f3f4f6;
            color: var(--dark);
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* Navbar Fix */
        .navbar {
            position: fixed;
            top: 0; width: 100%; z-index: 1000;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            padding: 15px 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);
        }

        .nav-container {
            display: flex; justify-content: space-between; align-items: center;
            max-width: 1200px; margin: 0 auto; padding: 0 5%;
        }

        /* Hero Section */
        .repair-hero {
            position: relative;
            height: 65vh; min-height: 500px;
            display: flex; align-items: center; justify-content: center;
            text-align: center; color: white;
            background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
            margin-top: 80px; overflow: hidden;
        }

        .repair-hero::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: url('https://images.unsplash.com/photo-1621905251189-08b45d6a269e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');
            background-size: cover; background-position: center; opacity: 0.3;
        }

        .hero-content { z-index: 2; padding: 0 20px; }
        .hero-content h1 {
            font-size: 3.5rem; font-weight: 700; margin-bottom: 15px;
            background: linear-gradient(to right, #fb923c, #ea580c);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        .btn-hero {
            padding: 12px 35px; background: #ea580c; color: white;
            border-radius: 50px; font-weight: 600; margin-top: 25px;
            display: inline-block; text-decoration: none; transition: 0.3s;
            box-shadow: 0 5px 15px rgba(234, 88, 12, 0.4);
        }

        /* Category Grid */
        .category-section { padding: 60px 0; background: #f3f4f6; }
        .cat-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .cat-card { background: white; padding: 20px; border-radius: 12px; text-align: center; cursor: pointer; transition: 0.3s; border: 1px solid transparent; }
        .cat-card:hover { border-color: #ea580c; transform: scale(1.05); }
        .cat-icon { font-size: 2.5rem; color: #ea580c; margin-bottom: 10px; }

        /* Estimator Section */
        .estimator-section { background: var(--dark); padding: 5rem 0; color: white; }
        .estimator-box { display: flex; background: white; border-radius: 20px; overflow: hidden; max-width: 900px; margin: 0 auto; box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2); }
        .est-left { flex: 1.5; padding: 3rem; color: var(--dark); }
        .est-right { flex: 1; background: var(--primary); padding: 3rem; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; color: white; }
        .qty-control { display: flex; align-items: center; gap: 15px; margin-top: 10px; }
        .qty-control button { width: 40px; height: 40px; border-radius: 50%; border: none; background: #e2e8f0; font-size: 1.2rem; cursor: pointer; font-weight: bold; }
        .btn-book-est { background: white; color: var(--primary-dark); border: none; padding: 12px 30px; border-radius: 50px; font-weight: 700; cursor: pointer; margin-top: 20px; }

        /* Booking Form */
        .booking-section { padding: 80px 0; background: #fff; }
        .booking-container { display: flex; flex-wrap: wrap; gap: 50px; max-width: 1100px; margin: 0 auto; padding: 0 20px; }
        .booking-form-card { background: white; padding: 40px; border-radius: 20px; box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08); border: 1px solid #e2e8f0; flex: 1.2; }
        .form-input, .form-select, .form-textarea { width: 100%; padding: 14px 15px; border: 1px solid #cbd5e1; border-radius: 8px; margin-bottom: 20px; outline: none; }
        .urgent-toggle { margin: 20px 0; background: #fff1f2; padding: 15px; border-radius: 10px; border: 1px solid #fecdd3; display: flex; align-items: center; gap: 10px; color: #ef4444; font-weight: 600; }
        .btn-confirm { width: 100%; background: var(--dark); color: white; border: none; padding: 15px; border-radius: 8px; font-weight: 600; cursor: pointer; }

        @media (max-width: 768px) {
            .estimator-box, .booking-container { flex-direction: column; }
            .hero-content h1 { font-size: 2.5rem; }
        }
    </style>
</head>

<body>
<nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <a href="../index.html">
                    <img src="../images/logo1.png" alt="FS" class="logo-img">
                    <div class="logo-text">Fast<span>Sewa</span></div>
                </a>
            </div>

            <ul class="nav-links" id="nav-menu">
                <li><a href="../index.html" class="nav-item">Home</a></li>
                <li><a href="../index.html#services" class="nav-item">Services</a></li>
                <li><a href="../index.html#contact" class="nav-item">Contact</a></li>
                <li><a href="../about.html" class="nav-item">About</a></li>
                <li id="auth-action">
                    <a href="../login.html" class="btn-nav">Login/Signup</a>
                </li>
            </ul>

            <div class="hamburger" id="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <header class="repair-hero">
        <div class="hero-content">
            <h1>Expert Home Repairs</h1>
            <p>From quick fixes to smart home upgrades. Fast, Reliable & Verified Professionals.</p>
            <a href="#book-repair" class="btn-hero">Book a Service</a>
        </div>
    </header>

    <section class="category-section">
        <div class="cat-grid">
            <div class="cat-card" onclick="selectCategory('Electrical')">
                <div class="cat-icon"><i class="fas fa-bolt"></i></div>
                <div class="cat-name">Electrical</div>
            </div>
            <div class="cat-card" onclick="selectCategory('Plumbing')">
                <div class="cat-icon"><i class="fas fa-faucet"></i></div>
                <div class="cat-name">Plumbing</div>
            </div>
            <div class="cat-card" onclick="selectCategory('AC Repair')">
                <div class="cat-icon"><i class="fas fa-snowflake"></i></div>
                <div class="cat-name">AC Repair</div>
            </div>
        </div>
    </section>

    <section id="estimator" class="estimator-section">
        <div class="container">
            <div class="estimator-box">
                <div class="est-left">
                    <h2>Live Rate Card</h2>
                    <p>Select your job and quantity to see the estimated cost.</p>
                    <div class="est-controls">
                        <label style="display:block; font-weight:600; margin-bottom:10px;">Select Job</label>
                        <select id="estService" onchange="calculateTotal()" style="width:100%; padding:12px; border-radius:8px; border:2px solid #e2e8f0;">
                            <option value="0" disabled selected>Choose a specific job...</option>
                            <option value="199">General Inspection (₹199)</option>
                            <option value="450">Switch/Socket Repair (₹450)</option>
                            <option value="800">Tap/Faucet Install (₹800)</option>
                            <option value="1200">AC Deep Cleaning (₹1200)</option>
                        </select>
                        <label style="display:block; font-weight:600; margin-top:20px;">Quantity / Units</label>
                        <div class="qty-control">
                            <button onclick="changeQty(-1)">-</button>
                            <span id="qtyDisplay">1</span>
                            <button onclick="changeQty(1)">+</button>
                        </div>
                    </div>
                </div>
                <div class="est-right">
                    <div class="price-display">
                        <small>Total Estimate</small>
                        <h3 id="totalPrice" style="font-size:3.5rem; margin:10px 0;">₹0</h3>
                        <p style="font-size:0.8rem; opacity:0.8; margin-bottom:20px;">+ Material costs if applicable</p>
                        <button class="btn-book-est" onclick="transferToBooking()">Transfer to Form</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="book-repair" class="booking-section">
        <div class="booking-container">
            <div class="info-side">
                <div class="trust-box" style="background:#fff7ed; padding:30px; border-radius:16px;">
                    <h3 style="color:#ea580c; margin-bottom: 20px;">Why FastSewa Repair?</h3>
                    <div style="display:flex; gap:15px; margin-bottom:20px;">
                        <i class="fas fa-user-shield" style="color:#ea580c; font-size:1.5rem;"></i>
                        <div><h4 style="margin:0;">Verified Pros</h4><p style="margin:0; font-size:0.9rem; color:#666;">Background checked experts.</p></div>
                    </div>
                    <div style="display:flex; gap:15px;">
                        <i class="fas fa-tools" style="color:#ea580c; font-size:1.5rem;"></i>
                        <div><h4 style="margin:0;">30 Days Warranty</h4><p style="margin:0; font-size:0.9rem; color:#666;">Service guaranteed.</p></div>
                    </div>
                </div>
            </div>

            <div class="form-side">
                <div class="booking-form-card">
                    <form id="repairForm">
                        <input type="text" id="fullName" class="form-input" required placeholder="Full Name">
                        <div style="display: flex; gap: 15px;">
                            <input type="tel" id="phone" class="form-input" required placeholder="Phone Number">
                            <input type="date" id="date" class="form-input" required>
                        </div>
                        <input type="text" id="finalService" class="form-input" placeholder="Service Details" readonly>
                        <div class="urgent-toggle">
                            <input type="checkbox" id="urgentCheck" style="width:20px; height:20px;">
                            <label for="urgentCheck">Urgent: Need within 60 mins (+₹100)</label>
                        </div>
                        <textarea id="message" class="form-textarea" rows="3" placeholder="Describe the issue..."></textarea>
                        <button type="button" class="btn-confirm" onclick="confirmBooking()">Confirm Booking</button>
                        <div id="successMsg" style="text-align:center; margin-top:15px; font-weight:600; color:#10b981;"></div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <footer style="background:#1e293b; color:white; padding:40px; text-align:center;">
        <p>&copy; 2026 FastSewa Repair Services. Expert Home Maintenance.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script>
        // --- 1. LIVE COST ESTIMATOR LOGIC ---
        let basePrice = 0;
        let quantity = 1;

        function calculateTotal() {
            const serviceSelect = document.getElementById('estService');
            basePrice = parseInt(serviceSelect.value);
            let total = basePrice * quantity;
            document.getElementById('totalPrice').innerText = "₹" + total;
        }

        function changeQty(amount) {
            quantity += amount;
            if (quantity < 1) quantity = 1;
            document.getElementById('qtyDisplay').innerText = quantity;
            if (basePrice > 0) calculateTotal();
        }

        function transferToBooking() {
            const serviceSelect = document.getElementById('estService');
            const selectedText = serviceSelect.options[serviceSelect.selectedIndex].text;
            if (serviceSelect.value == "0") {
                alert("Please select a service first!");
                return;
            }
            document.getElementById('book-repair').scrollIntoView({ behavior: 'smooth' });
            document.getElementById('finalService').value = selectedText + " (Qty: " + quantity + ")";
        }

        function selectCategory(category) {
            document.getElementById('estimator').scrollIntoView({ behavior: 'smooth' });
            alert("You selected " + category + ". Please pick a job in the Rate Card.");
        }

        // --- 2. BOOKING CONFIRMATION LOGIC ---
        function confirmBooking() {
            const btn = document.querySelector('.btn-confirm');
            const msg = document.getElementById('successMsg');
            const isUrgent = document.getElementById('urgentCheck').checked;
            
            btn.innerText = "Processing...";
            btn.disabled = true;

            setTimeout(() => {
                btn.innerText = "Booking Confirmed";
                btn.style.background = "#10b981";
                const timeStr = isUrgent ? "WITHIN 60 MINS" : "scheduled time";
                msg.innerHTML = `<i class="fas fa-check-circle"></i> Request received! Technician arriving at ${timeStr}.`;
            }, 1500);
        }
    </script>
    <script src="../js/script.js"></script>
</body>
</html>